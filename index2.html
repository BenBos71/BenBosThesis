
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Feelings Survey</title>
    <link rel="stylesheet" href="css/main.css">
  </head>
  <body>
    <div class="content">
      <form id="demoForm">
        <label for="dAge">Age:</label>
        <input type="number" id="dAge" name="dAge" required />
        <label for="dSex">Sex:</label>
        <select id="dSex" name="dSex" required>
            <option value="">--Please choose an option--</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
            <option value="other">Other</option>
        </select>
        <label for="dEdLvl">Level of Education:</label>
        <select id="dEdLvl" name="dEdLvl" required>
            <option value="">--Please choose an option--</option>
            <option value="highSchoolDrop">High School Dropout</option>
            <option value="highSchoolGrad">High School Grad</option>
            <option value="techschool">Technical School</option>
            <option value="someCollege">Some College</option>
            <option value="bachelorDegree">Bachelor's Degree</option>
            <option value="gradSchoolPlus">Graduate School or Higher</option>
        </select>
        <label for="dEdField">Field of Education (if applicable):</label>
        <input type="text" id="dEdField" name="dEdField"/>
        <input type="submit"  value="Submit!"/>
      </form>
    </div>
    <script type="text/javascript">
        document.getElementById('demoForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent form from submitting the traditional way
            demo_to_session();
         });

        function demo_to_session() {
            var sAge = document.getElementById("dAge").value;
            var sSex = document.getElementById("dSex").value;
            var sEdLvl = document.getElementById("dEdLvl").value;
            var sEdField = document.getElementById("dEdField").value;
            
            if (sAge >= 18)
            {          
              sessionStorage.setItem('formSubmit', 'false');
              sessionStorage.setItem('age', sAge);
              sessionStorage.setItem('sex', sSex);
              sessionStorage.setItem('ed_level', sEdLvl);
              if (sEdField == "")
              {
                sessionStorage.setItem('ed_field', "N/A");
              }
              else
              {
                sessionStorage.setItem('ed_field', sEdField);
              }

              // Navigate to the new page
              window.location.assign('survey/survey_1.html');
            }
            else
            {
              alert("You must be 18 years or older to participate in this survey!");
            }
        }
    </script>
  </body>
</html>